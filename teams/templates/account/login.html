{% extends "teams/base.html" %}
{% load account socialaccount %}

{% block title %}Log in{% endblock %}

{% block content %}
<section class="page-header">
    <div>
        <p class="kicker">Welcome back</p>
        <h1>Log in</h1>
        <p class="muted">Use your team account or sign in with Google</p>
    </div>
</section>

<form method="post" class="form-card form-narrow">
    {% csrf_token %}
    {{ form.non_field_errors }}
    <div class="form-grid">
        <label>
            {{ form.login.label }}
            {{ form.login }}
        </label>
        <label>
            {{ form.password.label }}
            {{ form.password }}
        </label>
    </div>
    <div class="form-actions">
        <button class="button" type="submit">Log in</button>
        <a class="button ghost" href="{% url 'account_signup' %}">Create account</a>
    </div>
</form>

<div class="divider">Or</div>

{% get_providers as socialaccount_providers %}
{% if socialaccount_providers %}
    <div class="social-grid">
        {% for provider in socialaccount_providers %}
            {% if provider.id == "google" %}
                <a class="button ghost" href="{% provider_login_url provider.id %}">
                    Continue with {{ provider.name }}
                </a>
            {% endif %}
        {% endfor %}
    </div>
    
{% endif %}


{% endblock %}
