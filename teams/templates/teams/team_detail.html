{% extends "teams/base.html" %}

{% block title %}{{ team.name }}{% endblock %}

{% block content %}


{% if show_my_events_tab %}
    <div class="tabs">
        <button class="tab-button is-active" data-tab="events" type="button">Events</button>
        <button class="tab-button" data-tab="my-events" type="button">My booked events</button>
    </div>
{% endif %}

<div class="tab-panel is-active" id="events">
    {% include "teams/partials/event_list.html" with events=events empty_title="No events yet" empty_message="Admins can create events to get things moving." %}
</div>

{% if show_my_events_tab %}
    <div class="tab-panel" id="my-events">
        {% include "teams/partials/event_list.html" with events=my_events empty_title="No bookings yet" empty_message="Check the events tab to claim a spot." %}
    </div>
{% endif %}

<script>
    const buttons = document.querySelectorAll(".tab-button");
    const panels = document.querySelectorAll(".tab-panel");

    const activate = (tabId) => {
        buttons.forEach((button) => {
            button.classList.toggle("is-active", button.dataset.tab === tabId);
        });
        panels.forEach((panel) => {
            panel.classList.toggle("is-active", panel.id === tabId);
        });
    };

    buttons.forEach((button) => {
        button.addEventListener("click", () => activate(button.dataset.tab));
    });

    if (window.location.hash) {
        const tabId = window.location.hash.replace("#", "");
        if (document.getElementById(tabId)) {
            activate(tabId);
        }
    }
</script>
{% endblock %}
